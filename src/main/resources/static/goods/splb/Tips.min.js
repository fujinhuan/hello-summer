!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&(define.amd||define.cmd)?define(e):t.Tips=e()}(this,function(){"use strict";var t=function(){return{$:function(t){return"string"==typeof t?document.getElementById(t):t},on:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},off:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},clear:function(t){var t=t||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},loadCss:function(t){var e=document.scripts,i=e[e.length-1].src,n=document.getElementsByTagName("head")[0],s=document.createElement("link");i=i.substring(0,i.lastIndexOf("/")),s.rel="stylesheet",s.href=i+"/"+t,n.appendChild(s)}}}();return t.loadCss("Tips.css"),{_create:function(){if(!this.Box){var e=document.getElementsByTagName("body")[0];this.BG=document.createElement("div"),this.BG.id="tips_mask",this.Box=document.createElement("div"),this.Box.id="tips_box",this.Box.innerHTML='<div id="tips_head"><span id="tips_title"></span><a href="javascript:;" id="tips_close">×</a></div><div id="tips_content"></div><div id="tips_foot"><a href="javascript:;" id="tips_cancel">取消</a><a href="javascript:;" id="tips_define">确定</a></div>',e.appendChild(this.BG),e.appendChild(this.Box),this.title=t.$("tips_title"),this.content=t.$("tips_content"),this.head=t.$("tips_head"),this.foot=t.$("tips_foot"),this.defineBtn=t.$("tips_define"),this.cancelBtn=t.$("tips_cancel"),this.closeBtn=t.$("tips_close"),this._initEvent()}},_show:function(){this._fix=!0,this.BG.style.display="block",this.Box.style.display="block",this._css()},_hide:function(){this._fix=!1,this.BG.style.display="none",this.Box.style.display="none",this._reset()},_size:function(){var t=document,e=t.documentElement,i=t.body;this.pH=e.scrollHeight||i.scrollHeight,this.sY=e.scrollTop||i.scrollTop,this.wW=e.clientWidth,this.wH=e.clientHeight,"CSS1Compat"!=document.compatMode&&(this.pH=i.scrollHeight,this.sY=i.scrollTop,this.wW=i.clientWidth,this.wH=i.clientHeight)},_css:function(){this._size(),this.BG.style.height=this.wH+"px",this.Box.style.width="",this.content.style.cssText="float:left";var t=this.content.offsetWidth;t<300&&(t=300),t>this.wW-60&&(t=this.wW-60),this.content.style.cssText="",this.Box.style.width=t+"px",this.Box.style.left=(this.wW-t)/2+"px",this.Box.style.top=(this.wH-this.Box.offsetHeight)/2+"px"},_resize:function(){var t=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t._css()},250)},_define:function(e){var i=this;this.defineBtn.onclick=function(n){if(t.clear(n),"function"==typeof e)return i._hide(),i.Bool=!0,void(e&&e(i.Bool));var s=e.before&&e.before(),o=!1;if(!1===s&&(o=!0),o)return!1;i._hide(),i.Bool=!0,e.define&&e.define(),e.after&&e.after(i.Bool)}},_cancel:function(e){var i=this;this.cancelBtn.onclick=function(n){if(t.clear(n),i._hide(),i.Bool=!1,"function"==typeof e)return void(e&&e(i.Bool));e.cancel&&e.cancel(),e.after&&e.after(i.Bool)}},_close:function(e){var i=this;this.closeBtn.onclick=function(n){if(t.clear(n),i._hide(),i.Bool=!1,"function"==typeof e)return void(e&&e(i.Bool));e.close&&e.close()}},_reset:function(){this.defineBtn.onclick=null,this.cancelBtn.onclick=null,this.closeBtn.onclick=null,this.defineBtn.innerText="确定",this.cancelBtn.innerText="取消"},_initEvent:function(){var e=this;t.on(window,"resize",function(t){e._fix&&e._resize()})},_setBtn:function(t,e){switch(this.head.style.display="block",this.foot.style.display="block",this.defineBtn.style.display="",this.cancelBtn.style.display="",this.closeBtn.style.display="",parseInt(t)){case 1:this.cancelBtn.style.display="none","function"==typeof e?(this.defineBtn.innerText="确定",this._define(function(){e&&e()})):(this.defineBtn.innerText=e.defineText||"确定",this._define(e)),this._close(e);break;case 2:"function"==typeof e?(this.defineBtn.innerText="确定",this.cancelBtn.innerText="取消",this._define(function(t){e&&e(t)}),this._cancel(function(t){e&&e(t)})):(this.defineBtn.innerText=e.defineText||"确定",this.cancelBtn.innerText=e.cancelText||"取消",this._define(e),this._cancel(e)),this._close(e);break;case 0:this.foot.style.display="none",this.defineBtn.style.display="none",this.cancelBtn.style.display="none",this._close(e);break;case-1:this.head.style.display="none",this.foot.style.display="none",this.defineBtn.style.display="none",this.cancelBtn.style.display="none"}},_setTitle:function(t){this.title.innerHTML=t},_setContent:function(t){this.content.innerHTML=t},_setOption:function(t,e,i){var n="温馨提示",s="";this._create(),"string"==typeof t?(s=t||"没有内容",this._setBtn(e,function(t){i&&i(t)})):(t=t||{},n=t.title||"温馨提示",s=t.content||"没有内容",this._setBtn(e,t)),this._setTitle(n),this._setContent(s),this._setRender(t),this._show()},_setRender:function(e){"string"!=typeof e&&e.render&&e.render(t)},_setTime:function(t,e){var i=0,n=this;i="string"==typeof t?e:t.time,parseInt(i)>0&&setTimeout(function(){n._hide()},1e3*i)},_create2:function(){if(!this.loadBox){var t=document.getElementsByTagName("body")[0];this.loadMask=document.createElement("div"),this.loadMask.id="tips_loadMask",this.loadBox=document.createElement("div"),this.loadBox.id="tips_loadBox",t.appendChild(this.loadMask),t.appendChild(this.loadBox)}},_css2:function(){this._size(),this.loadMask.style.height=this.wH+"px",this.loadBox.style.marginLeft=-this.loadBox.offsetWidth/2+"px",this.loadBox.style.marginTop=-this.loadBox.offsetHeight/2+"px"},_set2:function(t){t=t||"加载中",this.loadBox.innerText=t},show:function(t){this._create2(),this._set2(t),this.loadMask.style.display="block",this.loadBox.style.display="block",this._css2()},hide:function(){this.loadMask.style.display="none",this.loadBox.style.display="none"},alert:function(t,e){this._setOption(t,1,e)},confirm:function(t,e){this._setOption(t,2,function(t){e&&e(t)})},load:function(t,e){this._setOption(t,-1),this._setTime(t,e)},open:function(t){this._setOption(t,0)},close:function(){this._hide()}}});